{% extends 'page.html' %}
{% load humanize %}

{% block content %}

  <!-- Primary container -->
  <div class="container">

    <div class="row">
      <div class="col-md-12">
        <div class="page-header">
          <h1 class="pull-left">Recently Uploaded Datasets</h1>
          <p class="text-muted pull-right" style="margin-top:42px;">
            {{ num_datasets|intcomma }} datasets &middot; latest on {{ latest_dataset|date }}
          </p>
          <div class="clearfix"></div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="list-group">
          {% for dataset in dataset_list %}
          <a href="{{ dataset.get_absolute_url }}" class="list-group-item list-group-item-primary">
            <span class="pull-right">uploaded {{ dataset.created|date }} by {{ dataset.uploader }}</span>
            <strong>{{ dataset.filename }}</strong>
            &middot;
            {{ dataset.datatype }} data with
            {{ dataset.dimensions|intcomma }} dimension{{ dataset.dimensions|pluralize }} by {{ dataset.length|intcomma }} rows
          </a>
          {% empty %}
          <a href="#" class="list-group-item list-group-item-warning">No Recently Uploaded Datasets</a>
          {% endfor %}
        </div>

        {% if is_paginated %}
          {% include 'components/pagination.html' %}
        {% endif %}
        </div>
      </div>
    </div>

  </div><!-- primary container ends -->

{% endblock %}

{% block javascripts %}
  {{ block.super }}
{% endblock %}
